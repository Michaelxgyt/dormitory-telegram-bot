# Телеграм-бот для управления дежурствами в общежитии

Этот бот предназначен для организации и управления дежурствами в общежитии. Система поддерживает следующие роли: студент, староста, заведующий и администратор.

## Возможности бота

### Для студентов
- Выбор комнаты (общежитие, этаж, блок, номер комнаты)
- Просмотр своих дежурств
- Получение уведомлений о предстоящих дежурствах

### Для старост (требуется пароль)
- Все функции студента
- Автоматическое назначение дежурств для комнат своего блока
- Просмотр расписания дежурств блока
- Редактирование расписания дежурств
- Управление списком жителей блока
- Настройка времени и текста уведомлений

### Для заведующих (требуется пароль)
- Управление общежитиями, этажами, блоками
- Создание паролей для старост блоков
- Просмотр расписаний всех блоков
- Управление списком старост

### Для администраторов (требуется пароль)
- Полное управление системой
- Управление учетными записями пользователей
- Управление заведующими
- Системные настройки

## Установка и запуск

1. Убедитесь, что у вас установлен Python 3.7 или выше
2. Установите необходимые зависимости:
   ```
   pip install python-telegram-bot pytz
   ```
3. Отредактируйте файл `config.py`, указав токен вашего бота и другие настройки
4. Запустите бота:
   ```
   python main.py
   ```

## Структура проекта

- `main.py` - основной файл бота
- `config.py` - настройки бота (токен, пароли, и т.д.)
- `database.py` - функции для работы с базой данных
- `notifications.py` - система уведомлений о дежурствах
- `keyboards.py` - клавиатуры для различных меню бота
- `handlers/` - директория с обработчиками для различных ролей:
  - `student.py` - обработчики для студентов
  - `elder.py` - обработчики для старост
  - `manager.py` - обработчики для заведующих
  - `admin.py` - обработчики для администраторов

## Начало работы

1. Для начала работы с ботом отправьте команду `/start`
2. Следуйте инструкциям в боте для настройки вашей комнаты или входа с расширенными правами

## Настройка системы

Для работы системы необходимо сначала настроить структуру общежития:

1. Войдите как заведующий используя пароль `----`
2. Создайте общежитие, этажи и блоки
3. Для каждого блока создайте комнаты и назначьте пароль для старосты
4. Сообщите старостам их пароли для входа

После этого старосты смогут создавать расписания дежурств, а студенты - выбирать свои комнаты.

## Примечания

- Данные хранятся в SQLite базе данных (файл `dormitory.db`)
- Уведомления отправляются в соответствии с настройками, заданными старостами
- Для работы бота требуется стабильное интернет-соединение
